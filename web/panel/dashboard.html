<!--

 Copyright (C) 2016-2018 phantombot.tv

 This program is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation, either version 3 of the License, or
 (at your option) any later version.

 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.

 You should have received a copy of the GNU General Public License
 along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
 @author IllusionaryOne
-->

<!-- This is outside of the accordion, so will always be on top of the tab -->

<!-- Accordion object.  Each section is separated by an <h3 /> header and the content is to be enclosed in <div />.  -->
<div id="dashboardAccordion">
    <h3>Twitch</h3>
    <div>
        <table>
            <tr style="background-color: transparent">
                <td style="width: 130px">
                   <span align="char" id="lastFollow" placeholder="-" />
                   <span align="char" id="lastSub" placeholder="-" />
                   <span align="char" id="lastReSub" placeholder="-" />
                   <span align="char" id="lastDonator" placeholder="-" />
            </td>
        </table>
        <br>
        <form role="form">
            <div class="form-group" onkeypress="return event.keyCode != 13">
                <label for="streamTitle">Titulo del directo</label>
                <button type="button" class="btn btn-primary inline pull-right" onclick="$.setStreamTitle()">Actualizar</button>
                <input type="text" class="form-control" id="streamTitleInput" placeholder="Titulo del directo" />
            </div>
        </form>
        <br>
        
        <form role="form">
            <div class="form-group" onkeypress="return event.keyCode != 13">
                <label for="gameTitle">Titulo del juego</label>
                <button type="button" class="btn btn-primary inline pull-right" onclick="$.setGameTitle()">Actualizar</button>
                <input type="text" class="form-control" id="gameTitleInput" placeholder="Titulo del juego" />
            </div>
        </form>

        <br>
        <form role="form">
            <div class="form-group" onkeypress="return event.keyCode != 13">
                <label>Comunidad</label>
                <button type="button" class="btn btn-primary inline pull-right" style="margin-bottom: -9px;" onclick="$.setCommunity()">Actualizar</button>
                <div class="row" style="padding-top: 10px;">
                    <div class="col-md-4">
                        <input type="text" class="form-control" placeholder="Comunidad del directo." id="stream-community-1">
                    </div>
                    <div class="col-md-4">
                        <input type="text" class="form-control" placeholder="Comunidad del directo." id="stream-community-2">
                    </div>
                    <div class="col-md-4">
                        <input type="text" class="form-control" placeholder="Comunidad del directo." id="stream-community-3">
                    </div>
                </div>
            </div>
        </form>

        <button type="button" class="btn btn-alert inline pull-left" onclick="$.disconnect()" 
        data-toggle="tooltip" title="NOTA: Esto va a desconectar al bot de tu canal, vas a tener que aÃ±adirlo manualmente.">Desconectar</button>

        <button type="button" class="btn btn-warning inline pull-left" onclick="$.chatReconnect()" 
        data-toggle="tooltip" title="Reconecta a PhantomBot a tu canal de Twitch. Esto no reconecta si la accion 'Desconectar' fue utilizada.">Reconectar</button>

        <button type="button" class="btn btn-primary inline pull-left" onclick="$.toggleTwitchChat()">Ver el chat</button>
    </div>

    <h3>Configuracion y estadisticas del chat</h3>
    <div>
        <div>
            <strong>Alternar configuracion del chat</strong><br><br>
            <button type="button" class="btn btn-primary inline" onclick="$.toggleCommand('pausecommands')">Pausar comandos</button>
            <button type="button" class="btn btn-primary inline" onclick="$.toggleCommand('togglewhispermode')">Modo susurros</button>
            <button type="button" class="btn btn-primary inline" onclick="$.toggleCommand('toggleme')">Modo de acciones (/me)</button>
            <button type="button" class="btn btn-primary inline" onclick="$.toggleCommand('mute')">Modo silencioso</button>
        </div>
        <br>

        <div><strong>Estadisticas del chat</strong><br><br></div>
        <div id="panelStatsEnabled" />
        <table>
            <tr style="background-color: transparent">
            <td style="width: 130px">
                <span id="chatDate-0" /><br><br>
                <span id="chatDate-1" /><br><br>
                <span id="chatDate-2" /><br><br>
                <span id="chatDate-3" /><br><br>
                <span id="chatDate-4" />
            </td>
            <td style="width: 140px">
                <span id="chatCount-0" /><br><br>
                <span id="chatCount-1" /><br><br>
                <span id="chatCount-2" /><br><br>
                <span id="chatCount-3" /><br><br>
                <span id="chatCount-4" />
            </td>
            <td style="width: 140px">
                <span id="modCount-0" /><br><br>
                <span id="modCount-1" /><br><br>
                <span id="modCount-2" /><br><br>
                <span id="modCount-3" /><br><br>
                <span id="modCount-4" />
             </td>
             <td>
                 <div id="panelStatsGraph" style="width:250px; height: 180px" />
             </td>
             </tr>
        </table>
    </div>

    <h3>Configuracion de registro</h3>
    <div>
        <table>
            <tr class="textList">
                <td>Registro de eventos</td>
                <td style="width: 25px"><div id="logEvent" /></td>
                <td style="width: 25px">
                    <div data-toggle="tooltip" title="Cambiar" class="button"
                         onclick="$.toggleLog('logEvent');"><i class="fa fa-refresh" />
                     </div>
                    <div>
                </td>
            </tr>
            <tr class="textlist">
                <td>Registro de errores</td>
                <td style="width: 25px"><div id="logError" /></td>
                <td style="width: 25px">
                    <div data-toggle="tooltip" title="Cambiar" class="button"
                         onclick="$.toggleLog('logError');"><i class="fa fa-refresh" />
                     </div>
                     </div>
                <div>
                    </td>
                </tr>
                <tr class="textList">
                    <td>Registro de archivo y chat</td>
                    <td style="width: 25px"><div id="logFile" /></td>
                    <td style="width: 25px">
                        <div data-toggle="tooltip" title="Cambiar" class="button"
                             onclick="$.toggleLog('logFile');"><i class="fa fa-refresh" />
                         </div>
                    </td>
                </div>
            </tr>
        </table>
        <br>
        <form role="form">
             <div class="form-group" onkeypress="return event.keyCode != 13">
                <label for="logRotate">Numero de dias que se mantienen los registros</label>
                <button type="button" class="btn btn-primary pull-right" onclick="$.setLogRotate()">Enviar</button>
                <input type="number" min="0" class="form-control" id="logRotateInput" placeholder="Dias" 
                       data-toggle="tooltip" title="Dias para que se mantienen los registros, 0 significa que no se borran."/>
            </div>
        </form>
    </div>

    <h3>Modulos de Twich</h3>
    <div>
        <div id="modulesList" style="height: 300px; overflow: auto;" />
    </div>

    <h3>Modulos de Discord</h3>

    <div>
        <i>Estos son los modulos para nuestra integracion con Discord. Si no tienes tu bot conectado al discord, los botones de activacion no van a funcionar y los modulos puede que no aparezcan.</i>
        <div id="discordModulesList" style="height: 300px; overflow: auto;" />
    </div>


    <h3>Destacados</h3>
    <div>
        <div id="_highlightsPanelDisabled" />
        <div id="_highlightsPanel">
            Crea una nota de un evento en el directo para crear Destacados en Twitch mas facil despues.
            <br><br>
            <form role="form">
                 <div class="form-group" onkeypress="return event.keyCode != 13">
                    <label for="highlight">Crear destacados</label>
                    <button type="button" class="btn btn-primary pull-right" onclick="$.setHighlight()">Enviar</button>
                    <input type="text" class="form-control" id="highlightInput" placeholder="Juego destacado" />
                </div>
            </form>
            <br>
            
            <button type="button" class="btn btn-danger pull-right" onclick="$.clearHighlights()">Vaciar destacados</button>
            <strong>Destacados actuales</strong><br>
            <span id="showHighlights" />
        </div>
    </div>
    
    <h3>Contador de muerte</h3>
    <div>
        <div id="_deathCtrPanelDisabled" />
        <div id="_deathCtrPanel">
            <table>
                <tr class="textList" style="vertical-align: middle">
                    <td>Muertes: <span id="deathCounterValue">Obteniendo juego...</span></td>
                    <td style="width: 30px">
                        <button type="button" class="btn btn-primary" onclick="$.adjustDeathCounter('add')"><i class="fa fa-plus fa-1x" /></button>
                    </td>
                    <td style="width: 30px">
                        <button type="button" class="btn btn-primary" onclick="$.adjustDeathCounter('sub')"><i class="fa fa-minus fa-1x" /></button>
                    </td>
                    <td style="width: 30px">
                        <button type="button" class="btn btn-primary" onclick="$.adjustDeathCounter('reset')"><i class="fa fa-eraser fa-1x" /></button>
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <h3>Multi-Link</h3>
    <div>
        <div id="_multiLinkPanelDisabled" />
        <div id="_multiLinkPanel">
            Multi-Link provee un link para compartir multiples cuentas de Twich en una sola interfaz. Bueno para carreras u otras competiciones. Provee un espacio delimitado de las lista de canales. Establezca un temporizador para que el chat sepa de manera regular que Multi-Link esta activado.
            <br><br>
            <form role="form">
                 <div class="form-group" onkeypress="return event.keyCode != 13">
                    <label for="multi-link">Canales del Multi-Link</label>
                    <button type="button" class="btn btn-primary pull-right" onclick="$.setMultiLink('#multiLinkInput', 'otherChannels')">Enviar</button>
                    <input type="text" class="form-control" id="multiLinkInput" placeholder="Channel-1 Channel-2"
                           data-toggle="tooltip" title="Coloca los canales que tu quieres que esten en Multi-Link, separados con un espacio. No incluyas tu canal en el." />
                </div>
            </form>
    
            <form role="form">
                 <div class="form-group" onkeypress="return event.keyCode != 13">
                    <label for="multi-link">Intervalo de tiempo</label>
                    <button type="button" class="btn btn-primary pull-right" onclick="$.setMultiLinkTimer('#multiLinkTimerInput', 'timerInterval')">Enviar</button>
                    <input type="text" class="form-control" id="multiLinkTimerInput" placeholder="Interval"
                        data-toggle="tooltip" title="Establezca un intervalo (en minutos) para que se anuncie el Multi-Link en el chat. El minimo es de 5 minutos." />
                </div>
            </form>
    
            <form role="form">
                 <div class="form-group" onkeypress="return event.keyCode != 13">
                    <label for="multi-link">Mensajes requeridos</label>
                    <button type="button" class="btn btn-primary pull-right" onclick="$.setMultiReqMsgs('#multiLinkReqMsgsInput', 'reqMessages')">Enviar</button>
                    <input type="text" class="form-control" id="multiLinkReqMsgsInput" placeholder="Amount" 
                        data-toggle="tooltip" title="Establezca la cantidad me mensajes requeridos antes de que se envie el Multi-Link." />
                </div>
            </form>
    
            <button type="button" class="btn btn-success" onclick="$.multiLinkTimerOn()">Temporizador del Multi-Link ON</button>
            <button type="button" class="btn btn-danger" onclick="$.multiLinkTimerOff()">Temporizador del Multi-Link OFF</button>
            <button type="button" class="btn btn-danger" onclick="$.clearMultiLink()">Vaciar Multi-Link</button>
        </div>
    </div>

    <h3>Menciona a un Streamer</h3>
    <div>
        <div id="_shoutoutPanelDisabled" />
        <div id="_shoutoutPanel">
            Menciona a un streamer!  Mostrara su URL de Twitch en el chat junto al juego que juega, o el ultimo que jugo.<br><br>
            <form role="form">
                 <div class="form-group" onkeypress="return event.keyCode != 13">
                    <label for="shoutOut">Canal de Twitch a mejorar</label>
                    <button type="button" class="btn btn-primary pull-right" onclick="$.shoutOut()">Enviar</button>
                    <input type="text" class="form-control" id="shoutOutInput" placeholder="Canal de Twitch" />
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Run the Acordion -->
<script>$("#dashboardAccordion").accordion( { clearStyle: true, heightStyle: "panel", icons: null } );</script>
<script>$(function() {var gameList = $.gamesList; $("#gameTitleInput").autocomplete({source: gameList, minLength:4});});</script>
<script>$('[data-toggle="tooltip"]').tooltip({ trigger: 'hover' });</script>
<script>handleInputFocus();</script>
